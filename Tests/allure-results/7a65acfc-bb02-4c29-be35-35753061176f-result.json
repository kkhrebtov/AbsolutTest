{"name": "test_allowed_age_of_insured_from_3_to_55[chromium-{'age': 54, 'allowed': True}]", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 10000ms\nwaiting for get_by_text(\"К сожалению, оформление полиса онлайн невозможно.\")", "trace": "page = <Page url='https://old.absolutins.ru/kupit-strahovoj-polis/strahovanie-zhizni-i-zdorovya/zashchita-ot-virusa/'>\nage_input = {'age': 54, 'allowed': True}\n\n    @pytest.mark.parametrize(\"age_input\", [\n        {\"age\": 2,\n         \"allowed\": False},\n        {\"age\": 3,\n         \"allowed\": True},\n        {\"age\": 4,\n         \"allowed\": True},\n        {\"age\": 54,\n         \"allowed\": True},\n        {\"age\": 55,\n         \"allowed\": True},\n        {\"age\": 56,\n         \"allowed\": False},\n    ],\n                             ids=format_dictionary_test_id\n                             )\n    def test_allowed_age_of_insured_from_3_to_55(page, age_input):\n    \n        \"\"\"Тест на то что застрахованным может быть только человек в возрасте от 3 до 55\"\"\"\n        new_polis_page_1 = NewPolisStep1(page)\n        new_polis_page_2 = NewPolisStep2(page)\n    \n        new_polis_page_1.check_no_virus_contact()\n        new_polis_page_1.check_agreement()\n        new_polis_page_1.click_continue()\n        new_polis_page_1.check_step_is_not_active()\n    \n        today = datetime.datetime.today()\n    \n        dob_year = today.year - age_input[\"age\"]\n        insured_dob = f\"{str(today.day).zfill(2)}{str(today.month).zfill(2)}{dob_year}\"\n    \n        fio = \"Петров Петр Петрович\"\n        insurer_dob = (datetime.datetime.today() - datetime.timedelta(weeks=4 * 240)).strftime(\"%d%m%Y\")\n        passport = \"1234123124\"\n        issue_date = (datetime.datetime.today() - datetime.timedelta(weeks=4)).strftime(\"%d%m%Y\")\n        address = \"Москва\"\n        phone = \"9211234567\"\n        email = \"john.doe@gmail.com\"\n    \n        insured_passport = \"1234123124\" if age_input[\"age\"] in [54, 55, 56] else None # Кейс когда требуется паспорт\n        insured_issue_date = (datetime.datetime.today() - datetime.timedelta(weeks=4)).strftime(\"%d%m%Y\") \\\n            if age_input[\"age\"] in [54, 55, 56] else None # Кейс когда требуется паспорт\n    \n        new_polis_page_2.fill_in_form(\n            fio=fio,\n            dob=insurer_dob,\n            passport=passport,\n            issue_date=issue_date,\n            address=address,\n            phone=phone,\n            email=email,\n            insured_name=\"Сидоров Егор Палыч\",\n            insured_dob=insured_dob,\n            insured_passport=insured_passport,\n            insured_issue_date=insured_issue_date\n        )\n        new_polis_page_2.click_proceed_to_payment_button()\n    \n        if not age_input[\"allowed\"]:\n            errors = new_polis_page_2.get_errors(exp_count=1)\n            assert \"\"\"Возраст застрахованного должен быть не менее 3 и не более 55 лет\"\"\" in errors\n        else:\n            errors = new_polis_page_2.get_errors(exp_count=0)\n            assert errors == []\n>           expect(page.get_by_text(\"К сожалению, оформление полиса онлайн невозможно.\")).to_be_visible(timeout=10000)\nE           AssertionError: Locator expected to be visible\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_be_visible with timeout 10000ms\nE           waiting for get_by_text(\"К сожалению, оформление полиса онлайн невозможно.\")\n\naddress    = 'Москва'\nage_input  = {'age': 54, 'allowed': True}\ndob_year   = 1970\nemail      = 'john.doe@gmail.com'\nerrors     = []\nfio        = 'Петров Петр Петрович'\ninsured_dob = '30011970'\ninsured_issue_date = '02012024'\ninsured_passport = '1234123124'\ninsurer_dob = '06092005'\nissue_date = '02012024'\nnew_polis_page_1 = <Pages.new_polis_step_1.NewPolisStep1 object at 0x0000021261E20B90>\nnew_polis_page_2 = <Pages.new_polis_step_2.NewPolisStep2 object at 0x0000021261E20CD0>\npage       = <Page url='https://old.absolutins.ru/kupit-strahovoj-polis/strahovanie-zhizni-i-zdorovya/zashchita-ot-virusa/'>\npassport   = '1234123124'\nphone      = '9211234567'\ntoday      = datetime.datetime(2024, 1, 30, 20, 56, 18, 119350)\n\ntest_polis_creation.py:266: AssertionError"}, "description": "Тест на то что застрахованным может быть только человек в возрасте от 3 до 55", "steps": [{"name": "Выбрать чекбокс: отсутствуют лица с COVID-2019", "status": "passed", "start": 1706637376659, "stop": 1706637377522}, {"name": "Выбрать чекбокс: Согласине на обработку персональных данных", "status": "passed", "start": 1706637377522, "stop": 1706637377799}, {"name": "Нажать на кнопку: Продолжить", "status": "passed", "start": 1706637377799, "stop": 1706637378012}, {"name": "Проверка статуса текущего шага: Not current", "status": "passed", "start": 1706637378013, "stop": 1706637378119}, {"name": "Заполнить данные страхователя: ", "status": "passed", "steps": [{"name": "Вводим ФИО: Петров Петр Петрович", "status": "passed", "attachments": [{"name": " !!!!!Request Failure!!!!", "source": "49ade608-e24e-4528-88f4-926adac7800b-attachment.attach"}], "start": 1706637378119, "stop": 1706637378354}, {"name": "Вводим дату рождения: 06092005", "status": "passed", "start": 1706637378354, "stop": 1706637378757}, {"name": "Вводим паспорт: 1234123124", "status": "passed", "start": 1706637378757, "stop": 1706637378848}, {"name": "Вводим дату выпуска: 02012024", "status": "passed", "start": 1706637378849, "stop": 1706637379247}, {"name": "Вводим адрес: Москва", "status": "passed", "attachments": [{"name": " !!!!!Request Failure!!!!", "source": "f822dd14-543c-4990-b857-564a8ad974aa-attachment.attach"}], "start": 1706637379248, "stop": 1706637379354}, {"name": "Вводим телефон: 9211234567", "status": "passed", "start": 1706637379354, "stop": 1706637381750}, {"name": "Вводим почту: john.doe@gmail.com", "status": "passed", "attachments": [{"name": " !!!!!Request Failure!!!!", "source": "ada10bdf-7b79-4b0b-aad8-73c643a6b454-attachment.attach"}], "start": 1706637381750, "stop": 1706637381906}, {"name": "Вводим имя застрахованного: Сидоров Егор Палыч", "status": "passed", "start": 1706637382066, "stop": 1706637382230}, {"name": "Вводим дату рождения застрахованного: 30011970", "status": "passed", "start": 1706637382230, "stop": 1706637382491}, {"name": "Вводим паспорт застрахованного: 1234123124", "status": "passed", "start": 1706637382491, "stop": 1706637382583}, {"name": "Вводим дату выпуска паспорта застрахованного: 02012024", "status": "passed", "start": 1706637382583, "stop": 1706637382850}], "start": 1706637378119, "stop": 1706637382850}, {"name": "Нажать на кнопку 'Перейти к оплате'", "status": "passed", "start": 1706637382851, "stop": 1706637382985}], "attachments": [{"name": "https://old.absolutins.ru/kupit-strahovoj-polis/strahovanie-zhizni-i-zdorovya/zashchita-ot-virusa/", "source": "2b1ff5e4-cb78-4532-8a0c-42e86d675c0a-attachment.png", "type": "image/png"}], "parameters": [{"name": "browser_name", "value": "'chromium'"}, {"name": "age_input", "value": "{'age': 54, 'allowed': True}"}], "start": 1706637376621, "stop": 1706637393068, "uuid": "825c9424-521a-4d63-b729-17a15b883014", "historyId": "e78c6c4bd05b42e499b7087f7d263ebe", "testCaseId": "c0c31910b947b43b0cceb263da553181", "fullName": "test_polis_creation#test_allowed_age_of_insured_from_3_to_55", "labels": [{"name": "suite", "value": "test_polis_creation"}, {"name": "host", "value": "LAPTOP-7TQOO23M"}, {"name": "thread", "value": "20464-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_polis_creation"}]}