{"name": "test_allowed_age_of_insurer_from_18_to_55[chromium-{'age': 56, 'allowed': False}]", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to have count '1'\nActual value: 0 \nCall log:\nLocatorAssertions.to_have_count with timeout 5000ms\nwaiting for locator(\".error\")\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"\n  locator resolved to 0 elements\n  unexpected value \"0\"", "trace": "page = <Page url='https://old.absolutins.ru/kupit-strahovoj-polis/strahovanie-zhizni-i-zdorovya/zashchita-ot-virusa/'>\nage_input = {'age': 56, 'allowed': False}\n\n    @pytest.mark.parametrize(\"age_input\", [\n        {\"age\": 17,\n         \"allowed\": False},\n        {\"age\": 18,\n         \"allowed\": True},\n        {\"age\": 19,\n         \"allowed\": True},\n        {\"age\": 54,\n         \"allowed\": True},\n        {\"age\": 55,\n         \"allowed\": True},\n        {\"age\": 56,\n         \"allowed\": False},\n    ],\n                             ids=format_dictionary_test_id\n                             )\n    def test_allowed_age_of_insurer_from_18_to_55(page, age_input):\n        \"\"\"Тест на то что страхователем может быть только человек в возрасте от 18 до 55\"\"\"\n        new_polis_page_1 = NewPolisStep1(page)\n        new_polis_page_2 = NewPolisStep2(page)\n    \n        new_polis_page_1.check_no_virus_contact()\n        new_polis_page_1.check_agreement()\n        new_polis_page_1.click_continue()\n        new_polis_page_1.check_step_is_not_active()\n    \n        today = datetime.datetime.today()\n        year = today.year\n        month = today.month\n        day = today.day\n    \n        dob_year = year - age_input[\"age\"]\n        dob = f\"{str(day).zfill(2)}{str(month).zfill(2)}{dob_year}\"\n    \n        fio = \"Петров Петр Петрович\"\n        passport = \"1234123124\"\n        issue_date = (datetime.datetime.today() - datetime.timedelta(weeks=4)).strftime(\"%d%m%Y\")\n        address = \"Москва\"\n        phone = \"9211234567\"\n        email = \"john.doe@gmail.com\"\n    \n        new_polis_page_2.fill_in_form(\n            fio=fio,\n            dob=dob,\n            passport=passport,\n            issue_date=issue_date,\n            address=address,\n            phone=phone,\n            email=email\n        )\n        new_polis_page_2.click_proceed_to_payment_button()\n    \n        if not age_input[\"allowed\"]:\n>           errors = new_polis_page_2.get_errors(exp_count=1)\n\naddress    = 'Москва'\nage_input  = {'age': 56, 'allowed': False}\nday        = 30\ndob        = '30011968'\ndob_year   = 1968\nemail      = 'john.doe@gmail.com'\nfio        = 'Петров Петр Петрович'\nissue_date = '02012024'\nmonth      = 1\nnew_polis_page_1 = <Pages.new_polis_step_1.NewPolisStep1 object at 0x0000021261C704D0>\nnew_polis_page_2 = <Pages.new_polis_step_2.NewPolisStep2 object at 0x0000021261C72B90>\npage       = <Page url='https://old.absolutins.ru/kupit-strahovoj-polis/strahovanie-zhizni-i-zdorovya/zashchita-ot-virusa/'>\npassport   = '1234123124'\nphone      = '9211234567'\ntoday      = datetime.datetime(2024, 1, 30, 20, 57, 24, 970660)\nyear       = 2024\n\ntest_polis_creation.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Pages.new_polis_step_2.NewPolisStep2 object at 0x0000021261C72B90>\nexp_count = 1\n\n    def get_errors(self, exp_count: int = 0) -> List[str]:\n        self.page.wait_for_load_state()\n>       expect(self.page.locator(\".error\")).to_have_count(exp_count)\nE       AssertionError: Locator expected to have count '1'\nE       Actual value: 0 \nE       Call log:\nE       LocatorAssertions.to_have_count with timeout 5000ms\nE       waiting for locator(\".error\")\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\nE         locator resolved to 0 elements\nE         unexpected value \"0\"\n\nexp_count  = 1\nself       = <Pages.new_polis_step_2.NewPolisStep2 object at 0x0000021261C72B90>\n\n..\\Pages\\new_polis_step_2.py:82: AssertionError"}, "description": "Тест на то что страхователем может быть только человек в возрасте от 18 до 55", "steps": [{"name": "Выбрать чекбокс: отсутствуют лица с COVID-2019", "status": "passed", "start": 1706637443744, "stop": 1706637444444}, {"name": "Выбрать чекбокс: Согласине на обработку персональных данных", "status": "passed", "start": 1706637444444, "stop": 1706637444715}, {"name": "Нажать на кнопку: Продолжить", "status": "passed", "start": 1706637444715, "stop": 1706637444888}, {"name": "Проверка статуса текущего шага: Not current", "status": "passed", "start": 1706637444888, "stop": 1706637444971}, {"name": "Заполнить данные страхователя: ", "status": "passed", "steps": [{"name": "Вводим ФИО: Петров Петр Петрович", "status": "passed", "attachments": [{"name": " !!!!!Request Failure!!!!", "source": "7e4071bc-8f39-4f5f-ba3d-0aa37256b25a-attachment.attach"}], "start": 1706637444971, "stop": 1706637445166}, {"name": "Вводим дату рождения: 30011968", "status": "passed", "start": 1706637445166, "stop": 1706637445545}, {"name": "Вводим паспорт: 1234123124", "status": "passed", "start": 1706637445546, "stop": 1706637445631}, {"name": "Вводим дату выпуска: 02012024", "status": "passed", "start": 1706637445631, "stop": 1706637445976}, {"name": "Вводим адрес: Москва", "status": "passed", "start": 1706637445976, "stop": 1706637446049}, {"name": "Вводим телефон: 9211234567", "status": "passed", "start": 1706637446050, "stop": 1706637448414}, {"name": "Вводим почту: john.doe@gmail.com", "status": "passed", "attachments": [{"name": " !!!!!Request Failure!!!!", "source": "4e5815e4-1d89-4537-ab18-f5e077f82f03-attachment.attach"}], "start": 1706637448414, "stop": 1706637448568}], "start": 1706637444971, "stop": 1706637448569}, {"name": "Нажать на кнопку 'Перейти к оплате'", "status": "passed", "start": 1706637448569, "stop": 1706637448733}], "attachments": [{"name": "https://old.absolutins.ru/kupit-strahovoj-polis/strahovanie-zhizni-i-zdorovya/zashchita-ot-virusa/", "source": "0de6e7ae-62af-4a5e-a93c-f3f1a9d26634-attachment.png", "type": "image/png"}], "parameters": [{"name": "browser_name", "value": "'chromium'"}, {"name": "age_input", "value": "{'age': 56, 'allowed': False}"}], "start": 1706637443744, "stop": 1706637453787, "uuid": "7a2f3f63-8561-4587-89f9-151ece85dd49", "historyId": "75b511d8ad3d36aab3d79356a8994722", "testCaseId": "4fe8a91986b87b01ce452534cdb89eb4", "fullName": "test_polis_creation#test_allowed_age_of_insurer_from_18_to_55", "labels": [{"name": "suite", "value": "test_polis_creation"}, {"name": "host", "value": "LAPTOP-7TQOO23M"}, {"name": "thread", "value": "20464-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_polis_creation"}]}